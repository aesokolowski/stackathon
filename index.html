<!DOCTYPE html>
<html>
  <head>
    <title>Kinda Play Spades</title>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
  </head>
</html>

<body>
  <div>
    <div id="waiting-area"></div>
    <div id="game-area">
      <ul id="card-list"></ul>
    </div>
  </div>
</body>

<script>
  $(() => {
    const socket = io.connect();
    const $waitingArea = $('#waiting-area');
    const $gameArea = $('#game-area');
    const $cardList = $('#card-list');

    const decodeName = name => {
      switch (name) {
        case 1:
          return 'Ace';
          break;
        case 2:
          return '2';
          break;
        case 3:
          return '3';
          break;
        case 4:
          return '4';
          break;
        case 5:
          return '5';
          break;
        case 6:
          return '6';
          break;
        case 7:
          return '7';
          break;
        case 8:
          return '8';
          break;
        case 9:
          return '9';
          break;
        case 10:
          return '10';
          break;
        case 11:
          return 'Jack';
          break;
        case 12:
          return 'Queen';
          break;
        case 13:
          return 'King';
          break;
        default:
          return 'What kinda card ya playin\'?';
      }
    };

    const decodeSuit = suit => {
      switch (suit) {
        case 1:
          return 'Clubs';
          break;
        case 2:
          return 'Diamonds';
          break;
        case 3:
          return 'Hearts';
          break;
        case 4:
          return 'Spades';
          break;
        default:
          return 'What kinda funny card ya playin\'?';
      }
    };

    $waitingArea.html('Waiting for more users...');
    $gameArea.hide();

    socket.on('start game', data => {
      $waitingArea.hide();
      $gameArea.show();

      const html = data.hand.cards.reduce((list, card) => {
        list += '<li>' + decodeName(card.name) + ' of ' + decodeSuit(card.suit) 
          + '</li>';
        return list;
      }, '');

      $cardList.html(html);

    });
  });
</script>
